"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/bulk-invite/route";
exports.ids = ["app/api/admin/bulk-invite/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fbulk-invite%2Froute&page=%2Fapi%2Fadmin%2Fbulk-invite%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fbulk-invite%2Froute.ts&appDir=%2FUsers%2Fstefanjandric%2FDesktop%2FInfluenser%20Portal%20Final%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fstefanjandric%2FDesktop%2FInfluenser%20Portal%20Final&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fbulk-invite%2Froute&page=%2Fapi%2Fadmin%2Fbulk-invite%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fbulk-invite%2Froute.ts&appDir=%2FUsers%2Fstefanjandric%2FDesktop%2FInfluenser%20Portal%20Final%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fstefanjandric%2FDesktop%2FInfluenser%20Portal%20Final&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_stefanjandric_Desktop_Influenser_Portal_Final_app_api_admin_bulk_invite_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/bulk-invite/route.ts */ \"(rsc)/./app/api/admin/bulk-invite/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/bulk-invite/route\",\n        pathname: \"/api/admin/bulk-invite\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/bulk-invite/route\"\n    },\n    resolvedPagePath: \"/Users/stefanjandric/Desktop/Influenser Portal Final/app/api/admin/bulk-invite/route.ts\",\n    nextConfigOutput,\n    userland: _Users_stefanjandric_Desktop_Influenser_Portal_Final_app_api_admin_bulk_invite_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/admin/bulk-invite/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRmJ1bGstaW52aXRlJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhZG1pbiUyRmJ1bGstaW52aXRlJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYWRtaW4lMkZidWxrLWludml0ZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnN0ZWZhbmphbmRyaWMlMkZEZXNrdG9wJTJGSW5mbHVlbnNlciUyMFBvcnRhbCUyMEZpbmFsJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnN0ZWZhbmphbmRyaWMlMkZEZXNrdG9wJTJGSW5mbHVlbnNlciUyMFBvcnRhbCUyMEZpbmFsJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN1QztBQUNwSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2FsbGVtLW5leHQtanMvP2I1ZWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3N0ZWZhbmphbmRyaWMvRGVza3RvcC9JbmZsdWVuc2VyIFBvcnRhbCBGaW5hbC9hcHAvYXBpL2FkbWluL2J1bGstaW52aXRlL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hZG1pbi9idWxrLWludml0ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FkbWluL2J1bGstaW52aXRlXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hZG1pbi9idWxrLWludml0ZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9zdGVmYW5qYW5kcmljL0Rlc2t0b3AvSW5mbHVlbnNlciBQb3J0YWwgRmluYWwvYXBwL2FwaS9hZG1pbi9idWxrLWludml0ZS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYWRtaW4vYnVsay1pbnZpdGUvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fbulk-invite%2Froute&page=%2Fapi%2Fadmin%2Fbulk-invite%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fbulk-invite%2Froute.ts&appDir=%2FUsers%2Fstefanjandric%2FDesktop%2FInfluenser%20Portal%20Final%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fstefanjandric%2FDesktop%2FInfluenser%20Portal%20Final&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/admin/bulk-invite/route.ts":
/*!********************************************!*\
  !*** ./app/api/admin/bulk-invite/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _sendgrid_mail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sendgrid/mail */ \"(rsc)/./node_modules/@sendgrid/mail/index.js\");\n/* harmony import */ var _sendgrid_mail__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sendgrid_mail__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\n// Environment variables\nconst SUPABASE_URL = \"https://fbmdbvijfufsjpsuorxi.supabase.co\" || 0;\nconst SUPABASE_SERVICE_KEY = process.env.SUPABASE_SERVICE_KEY || \"\";\nconst SENDGRID_API_KEY = process.env.SENDGRID_API_KEY || \"\";\nconst SENDGRID_FROM_EMAIL = process.env.SENDGRID_FROM_EMAIL || \"\";\n// Initialize SendGrid\nif (SENDGRID_API_KEY) {\n    _sendgrid_mail__WEBPACK_IMPORTED_MODULE_2___default().setApiKey(SENDGRID_API_KEY);\n}\n// Create admin Supabase client\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_3__.createClient)(SUPABASE_URL, SUPABASE_SERVICE_KEY, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n});\n// Email template\nconst createEmailTemplate = (email, registrationUrl, tagName)=>{\n    return {\n        to: email,\n        from: SENDGRID_FROM_EMAIL,\n        subject: \"Join Our New Influencer Platform\",\n        html: `\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <meta charset=\"utf-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>Join Our New Influencer Platform</title>\n        <style>\n          body {\n            font-family: Arial, sans-serif;\n            line-height: 1.6;\n            color: #333;\n          }\n          .container {\n            max-width: 600px;\n            margin: 0 auto;\n            padding: 20px;\n            border: 1px solid #eaeaea;\n            border-radius: 5px;\n          }\n          .header {\n            background-color: #FFB900;\n            padding: 20px;\n            text-align: center;\n            border-radius: 5px 5px 0 0;\n          }\n          .content {\n            padding: 20px;\n          }\n          .button {\n            display: inline-block;\n            padding: 10px 20px;\n            background-color: #FFB900;\n            color: black;\n            text-decoration: none;\n            font-weight: bold;\n            border-radius: 4px;\n            margin: 20px 0;\n          }\n          .footer {\n            margin-top: 30px;\n            text-align: center;\n            color: #777;\n            font-size: 12px;\n          }\n          .feature-list {\n            padding-left: 20px;\n          }\n          .feature-list li {\n            margin-bottom: 8px;\n          }\n        </style>\n      </head>\n      <body>\n        <div class=\"container\">\n          <div class=\"header\">\n            <h1 style=\"color: black; margin: 0;\">Join Our New Influencer Platform</h1>\n          </div>\n          <div class=\"content\">\n            <p>Hi,</p>\n            \n            <p>I'm excited to share something we've been working on - a brand-new platform built specifically to make our influencer campaigns smoother, faster, and more organized for both of us.</p>\n            \n            <p>No more messy email chains or lost messages.</p>\n            \n            <p>With this platform, you can:</p>\n            <ul class=\"feature-list\">\n              <li>Get campaign offers directly from me and my team</li>\n              <li>Accept, decline, or request changes to offers</li>\n              <li>Get access to more advertising opportunities through our new bidding process (more deals for you on a monthly basis)</li>\n              <li>Submit quotes and request payment</li>\n              <li>Upload drafts or scripts for review</li>\n              <li>Get approvals, feedback, and final go-aheads – all in one place</li>\n            </ul>\n            \n            <p>It's simple and streamlined - designed to save us both time.</p>\n            \n            <p>From now on, all campaign opportunities and communication will go through this platform. You'll still get email notifications when there's a new offer, but everything will be handled inside the platform - not through direct emails like before.</p>\n            \n            <p>Sign up below to get started 👇</p>\n            \n            <div style=\"text-align: center;\">\n              <a href=\"${registrationUrl}\" class=\"button\">Create Your Account</a>\n            </div>\n            \n            <p>Or copy and paste this link into your browser:</p>\n            <p style=\"word-break: break-all; background-color: #f5f5f5; padding: 10px; border-radius: 3px; font-size: 13px;\">\n              ${registrationUrl}\n            </p>\n            \n            <p>It only takes a minute - you'll be all set to receive campaign invites after you're onboarded to the platform.</p>\n            \n            <p>Looking forward to working with you through the platform. If you have any questions, don't hesitate to reach out or call me.</p>\n            \n            <p>Best,<br>Aleem</p>\n          </div>\n          <div class=\"footer\">\n            <p>&copy; 2025 Allem. All rights reserved.</p>\n          </div>\n        </div>\n      </body>\n      </html>\n    `,\n        text: `\n      Join Our New Influencer Platform\n      \n      Hi,\n      \n      I'm excited to share something we've been working on - a brand-new platform built specifically to make our influencer campaigns smoother, faster, and more organized for both of us.\n      \n      No more messy email chains or lost messages.\n      \n      With this platform, you can:\n      • Get campaign offers directly from me and my team\n      • Accept, decline, or request changes to offers\n      • Get access to more advertising opportunities through our new bidding process (more deals for you on a monthly basis)\n      • Submit quotes and request payment\n      • Upload drafts or scripts for review\n      • Get approvals, feedback, and final go-aheads – all in one place\n      \n      It's simple and streamlined - designed to save us both time.\n      \n      From now on, all campaign opportunities and communication will go through this platform. You'll still get email notifications when there's a new offer, but everything will be handled inside the platform - not through direct emails like before.\n      \n      Sign up below to get started:\n      ${registrationUrl}\n      \n      It only takes a minute - you'll be all set to receive campaign invites after you're onboarded to the platform.\n      \n      Looking forward to working with you through the platform. If you have any questions, don't hesitate to reach out or call me.\n      \n      Best,\n      Aleem\n      \n      © 2025 Allem. All rights reserved.\n    `\n    };\n};\nasync function processInvitation(email, tagId, tagName, clientUrl) {\n    try {\n        // Generate token for invitation\n        const token = crypto__WEBPACK_IMPORTED_MODULE_1___default().randomBytes(4).toString(\"hex\"); // 8 characters\n        // Check if invitation already exists\n        const { data: existingInvitation } = await supabaseAdmin.from(\"invitations\").select(\"id, status\").eq(\"email\", email).eq(\"status\", \"pending\").maybeSingle();\n        let invitationId;\n        if (existingInvitation) {\n            // Update existing invitation\n            const { data: updatedInvite, error: updateError } = await supabaseAdmin.from(\"invitations\").update({\n                token,\n                expires_at: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\n                updated_at: new Date().toISOString()\n            }).eq(\"id\", existingInvitation.id).select().single();\n            if (updateError) {\n                return {\n                    email,\n                    success: false,\n                    error: `Failed to update invitation: ${updateError.message}`\n                };\n            }\n            invitationId = existingInvitation.id;\n        } else {\n            // Create new invitation\n            const invitationData = {\n                email,\n                status: \"pending\",\n                token,\n                expires_at: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\n                created_at: new Date().toISOString(),\n                updated_at: new Date().toISOString()\n            };\n            const { data: newInvite, error: inviteError } = await supabaseAdmin.from(\"invitations\").insert(invitationData).select().single();\n            if (inviteError) {\n                return {\n                    email,\n                    success: false,\n                    error: `Failed to create invitation: ${inviteError.message}`\n                };\n            }\n            invitationId = newInvite.id;\n        }\n        // Generate registration URL\n        const registrationUrl = `${clientUrl}/signup?email=${encodeURIComponent(email)}&token=${token}&tag=${tagId}`;\n        // Send email using SendGrid\n        let emailSent = false;\n        let emailError = null;\n        console.log(`Attempting to send email to ${email}`);\n        console.log(`SENDGRID_API_KEY exists: ${!!SENDGRID_API_KEY}`);\n        console.log(`SENDGRID_FROM_EMAIL: ${SENDGRID_FROM_EMAIL}`);\n        if (SENDGRID_API_KEY && SENDGRID_FROM_EMAIL) {\n            try {\n                const emailData = createEmailTemplate(email, registrationUrl, tagName);\n                console.log(`Sending email with data:`, {\n                    to: emailData.to,\n                    from: emailData.from,\n                    subject: emailData.subject\n                });\n                const result = await _sendgrid_mail__WEBPACK_IMPORTED_MODULE_2___default().send(emailData);\n                console.log(`Email sent successfully to ${email}:`, result[0].statusCode);\n                emailSent = true;\n            } catch (error) {\n                console.error(`Failed to send email to ${email}:`, error);\n                console.error(`SendGrid error details:`, error.response?.body || error.message);\n                emailError = error.message || \"Unknown email error\";\n            // Don't fail the entire process if email fails\n            }\n        } else {\n            console.log(`Email not sent - missing configuration. API Key: ${!!SENDGRID_API_KEY}, From Email: ${!!SENDGRID_FROM_EMAIL}`);\n            emailError = \"SendGrid not configured\";\n        }\n        return {\n            email,\n            success: true,\n            registration_url: registrationUrl,\n            email_sent: emailSent,\n            email_error: emailError,\n            token\n        };\n    } catch (error) {\n        return {\n            email,\n            success: false,\n            error: error.message || \"Unknown error occurred\"\n        };\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { emails, tagId } = body;\n        // Validation\n        if (!emails || !Array.isArray(emails) || emails.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Emails array is required and must not be empty\"\n            }, {\n                status: 400\n            });\n        }\n        if (!tagId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Tag ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Check environment variables\n        if (!SUPABASE_URL || !SUPABASE_SERVICE_KEY) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Server configuration error: Missing Supabase credentials\"\n            }, {\n                status: 500\n            });\n        }\n        // Fetch tag information\n        const { data: tag, error: tagError } = await supabaseAdmin.from(\"tags\").select(\"id, name\").eq(\"id\", tagId).single();\n        if (tagError || !tag) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid tag ID\"\n            }, {\n                status: 400\n            });\n        }\n        const clientUrl = request.headers.get(\"origin\") || \"http://localhost:3000\";\n        console.log(`Processing bulk invitations for ${emails.length} emails with tag: ${tag.name}`);\n        // Process all invitations\n        const results = [];\n        for (const email of emails){\n            const result = await processInvitation(email, tagId, tag.name, clientUrl);\n            results.push(result);\n            // Small delay to avoid overwhelming the email service\n            await new Promise((resolve)=>setTimeout(resolve, 100));\n        }\n        const successful = results.filter((r)=>r.success).length;\n        const failed = results.filter((r)=>!r.success).length;\n        console.log(`Bulk invitation completed: ${successful} successful, ${failed} failed`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: `Processed ${emails.length} invitations: ${successful} successful, ${failed} failed`,\n            results,\n            summary: {\n                total: emails.length,\n                successful,\n                failed\n            }\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Unexpected error in bulk-invite API:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FkbWluL2J1bGstaW52aXRlL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0Q7QUFDSDtBQUN6QjtBQUNRO0FBRXBDLHdCQUF3QjtBQUN4QixNQUFNSSxlQUFlQywwQ0FBb0MsSUFBSTtBQUM3RCxNQUFNRyx1QkFBdUJILFFBQVFDLEdBQUcsQ0FBQ0Usb0JBQW9CLElBQUk7QUFDakUsTUFBTUMsbUJBQW1CSixRQUFRQyxHQUFHLENBQUNHLGdCQUFnQixJQUFJO0FBQ3pELE1BQU1DLHNCQUFzQkwsUUFBUUMsR0FBRyxDQUFDSSxtQkFBbUIsSUFBSTtBQUUvRCxzQkFBc0I7QUFDdEIsSUFBSUQsa0JBQWtCO0lBQ3BCTiwrREFBZ0IsQ0FBQ007QUFDbkI7QUFFQSwrQkFBK0I7QUFDL0IsTUFBTUcsZ0JBQWdCWCxtRUFBWUEsQ0FBQ0csY0FBY0ksc0JBQXNCO0lBQ3JFSyxNQUFNO1FBQ0pDLGtCQUFrQjtRQUNsQkMsZ0JBQWdCO0lBQ2xCO0FBQ0Y7QUFpQkEsaUJBQWlCO0FBQ2pCLE1BQU1DLHNCQUFzQixDQUFDQyxPQUFlQyxpQkFBeUJDO0lBQ25FLE9BQU87UUFDTEMsSUFBSUg7UUFDSkksTUFBTVg7UUFDTlksU0FBUztRQUNUQyxNQUFNLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7dUJBa0ZZLEVBQUVMLGdCQUFnQjs7Ozs7Y0FLM0IsRUFBRUEsZ0JBQWdCOzs7Ozs7Ozs7Ozs7Ozs7SUFlNUIsQ0FBQztRQUNETSxNQUFNLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7TUFzQkwsRUFBRU4sZ0JBQWdCOzs7Ozs7Ozs7O0lBVXBCLENBQUM7SUFDSDtBQUNGO0FBRUEsZUFBZU8sa0JBQWtCUixLQUFhLEVBQUVTLEtBQWEsRUFBRVAsT0FBZSxFQUFFUSxTQUFpQjtJQUMvRixJQUFJO1FBQ0YsZ0NBQWdDO1FBQ2hD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LEVBQUU0QixNQUFNO1FBRXJEakIsUUFBUUMsR0FBRyxDQUFDLENBQUMsMkJBQTJCLEVBQUUyQixXQUFXLGFBQWEsRUFBRUcsT0FBTyxPQUFPLENBQUM7UUFFbkYsT0FBTzFGLHFEQUFZQSxDQUFDd0UsSUFBSSxDQUN0QjtZQUNFeEIsU0FBUztZQUNUQyxTQUFTLENBQUMsVUFBVSxFQUFFd0IsT0FBT0csTUFBTSxDQUFDLGNBQWMsRUFBRVcsV0FBVyxhQUFhLEVBQUVHLE9BQU8sT0FBTyxDQUFDO1lBQzdGUjtZQUNBUyxTQUFTO2dCQUNQQyxPQUFPbkIsT0FBT0csTUFBTTtnQkFDcEJXO2dCQUNBRztZQUNGO1FBQ0YsR0FDQTtZQUFFdkMsUUFBUTtRQUFJO0lBRWxCLEVBQUUsT0FBT2IsT0FBWTtRQUNuQnFCLFFBQVFyQixLQUFLLENBQUMsd0NBQXdDQTtRQUN0RCxPQUFPdEMscURBQVlBLENBQUN3RSxJQUFJLENBQ3RCO1lBQUVsQyxPQUFPQSxNQUFNVyxPQUFPLElBQUk7UUFBd0IsR0FDbEQ7WUFBRUUsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbGxlbS1uZXh0LWpzLy4vYXBwL2FwaS9hZG1pbi9idWxrLWludml0ZS9yb3V0ZS50cz9mNjMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xuaW1wb3J0IHNnTWFpbCBmcm9tICdAc2VuZGdyaWQvbWFpbCc7XG5cbi8vIEVudmlyb25tZW50IHZhcmlhYmxlc1xuY29uc3QgU1VQQUJBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIHx8ICcnO1xuY29uc3QgU1VQQUJBU0VfU0VSVklDRV9LRVkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX0tFWSB8fCAnJztcbmNvbnN0IFNFTkRHUklEX0FQSV9LRVkgPSBwcm9jZXNzLmVudi5TRU5ER1JJRF9BUElfS0VZIHx8ICcnO1xuY29uc3QgU0VOREdSSURfRlJPTV9FTUFJTCA9IHByb2Nlc3MuZW52LlNFTkRHUklEX0ZST01fRU1BSUwgfHwgJyc7XG5cbi8vIEluaXRpYWxpemUgU2VuZEdyaWRcbmlmIChTRU5ER1JJRF9BUElfS0VZKSB7XG4gIHNnTWFpbC5zZXRBcGlLZXkoU0VOREdSSURfQVBJX0tFWSk7XG59XG5cbi8vIENyZWF0ZSBhZG1pbiBTdXBhYmFzZSBjbGllbnRcbmNvbnN0IHN1cGFiYXNlQWRtaW4gPSBjcmVhdGVDbGllbnQoU1VQQUJBU0VfVVJMLCBTVVBBQkFTRV9TRVJWSUNFX0tFWSwge1xuICBhdXRoOiB7XG4gICAgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UsXG4gICAgcGVyc2lzdFNlc3Npb246IGZhbHNlXG4gIH1cbn0pO1xuXG50eXBlIFJlcXVlc3REYXRhID0ge1xuICBlbWFpbHM6IHN0cmluZ1tdO1xuICB0YWdJZDogc3RyaW5nO1xufTtcblxudHlwZSBJbnZpdGVSZXN1bHQgPSB7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIGVycm9yPzogc3RyaW5nO1xuICByZWdpc3RyYXRpb25fdXJsPzogc3RyaW5nO1xuICBlbWFpbF9zZW50PzogYm9vbGVhbjtcbiAgZW1haWxfZXJyb3I/OiBzdHJpbmc7XG4gIHRva2VuPzogc3RyaW5nO1xufTtcblxuLy8gRW1haWwgdGVtcGxhdGVcbmNvbnN0IGNyZWF0ZUVtYWlsVGVtcGxhdGUgPSAoZW1haWw6IHN0cmluZywgcmVnaXN0cmF0aW9uVXJsOiBzdHJpbmcsIHRhZ05hbWU6IHN0cmluZykgPT4ge1xuICByZXR1cm4ge1xuICAgIHRvOiBlbWFpbCxcbiAgICBmcm9tOiBTRU5ER1JJRF9GUk9NX0VNQUlMLFxuICAgIHN1YmplY3Q6ICdKb2luIE91ciBOZXcgSW5mbHVlbmNlciBQbGF0Zm9ybScsXG4gICAgaHRtbDogYFxuICAgICAgPCFET0NUWVBFIGh0bWw+XG4gICAgICA8aHRtbD5cbiAgICAgIDxoZWFkPlxuICAgICAgICA8bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cbiAgICAgICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcIj5cbiAgICAgICAgPHRpdGxlPkpvaW4gT3VyIE5ldyBJbmZsdWVuY2VyIFBsYXRmb3JtPC90aXRsZT5cbiAgICAgICAgPHN0eWxlPlxuICAgICAgICAgIGJvZHkge1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNjtcbiAgICAgICAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuY29udGFpbmVyIHtcbiAgICAgICAgICAgIG1heC13aWR0aDogNjAwcHg7XG4gICAgICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZWFlYWVhO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAuaGVhZGVyIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkI5MDA7XG4gICAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4IDVweCAwIDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5jb250ZW50IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5idXR0b24ge1xuICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGQjkwMDtcbiAgICAgICAgICAgIGNvbG9yOiBibGFjaztcbiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAgICAgbWFyZ2luOiAyMHB4IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5mb290ZXIge1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIGNvbG9yOiAjNzc3O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAuZmVhdHVyZS1saXN0IHtcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMjBweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmZlYXR1cmUtbGlzdCBsaSB7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICAgICAgfVxuICAgICAgICA8L3N0eWxlPlxuICAgICAgPC9oZWFkPlxuICAgICAgPGJvZHk+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICA8aDEgc3R5bGU9XCJjb2xvcjogYmxhY2s7IG1hcmdpbjogMDtcIj5Kb2luIE91ciBOZXcgSW5mbHVlbmNlciBQbGF0Zm9ybTwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxwPkhpLDwvcD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPHA+SSdtIGV4Y2l0ZWQgdG8gc2hhcmUgc29tZXRoaW5nIHdlJ3ZlIGJlZW4gd29ya2luZyBvbiAtIGEgYnJhbmQtbmV3IHBsYXRmb3JtIGJ1aWx0IHNwZWNpZmljYWxseSB0byBtYWtlIG91ciBpbmZsdWVuY2VyIGNhbXBhaWducyBzbW9vdGhlciwgZmFzdGVyLCBhbmQgbW9yZSBvcmdhbml6ZWQgZm9yIGJvdGggb2YgdXMuPC9wPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8cD5ObyBtb3JlIG1lc3N5IGVtYWlsIGNoYWlucyBvciBsb3N0IG1lc3NhZ2VzLjwvcD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPHA+V2l0aCB0aGlzIHBsYXRmb3JtLCB5b3UgY2FuOjwvcD5cbiAgICAgICAgICAgIDx1bCBjbGFzcz1cImZlYXR1cmUtbGlzdFwiPlxuICAgICAgICAgICAgICA8bGk+R2V0IGNhbXBhaWduIG9mZmVycyBkaXJlY3RseSBmcm9tIG1lIGFuZCBteSB0ZWFtPC9saT5cbiAgICAgICAgICAgICAgPGxpPkFjY2VwdCwgZGVjbGluZSwgb3IgcmVxdWVzdCBjaGFuZ2VzIHRvIG9mZmVyczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5HZXQgYWNjZXNzIHRvIG1vcmUgYWR2ZXJ0aXNpbmcgb3Bwb3J0dW5pdGllcyB0aHJvdWdoIG91ciBuZXcgYmlkZGluZyBwcm9jZXNzIChtb3JlIGRlYWxzIGZvciB5b3Ugb24gYSBtb250aGx5IGJhc2lzKTwvbGk+XG4gICAgICAgICAgICAgIDxsaT5TdWJtaXQgcXVvdGVzIGFuZCByZXF1ZXN0IHBheW1lbnQ8L2xpPlxuICAgICAgICAgICAgICA8bGk+VXBsb2FkIGRyYWZ0cyBvciBzY3JpcHRzIGZvciByZXZpZXc8L2xpPlxuICAgICAgICAgICAgICA8bGk+R2V0IGFwcHJvdmFscywgZmVlZGJhY2ssIGFuZCBmaW5hbCBnby1haGVhZHMg4oCTIGFsbCBpbiBvbmUgcGxhY2U8L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPHA+SXQncyBzaW1wbGUgYW5kIHN0cmVhbWxpbmVkIC0gZGVzaWduZWQgdG8gc2F2ZSB1cyBib3RoIHRpbWUuPC9wPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8cD5Gcm9tIG5vdyBvbiwgYWxsIGNhbXBhaWduIG9wcG9ydHVuaXRpZXMgYW5kIGNvbW11bmljYXRpb24gd2lsbCBnbyB0aHJvdWdoIHRoaXMgcGxhdGZvcm0uIFlvdSdsbCBzdGlsbCBnZXQgZW1haWwgbm90aWZpY2F0aW9ucyB3aGVuIHRoZXJlJ3MgYSBuZXcgb2ZmZXIsIGJ1dCBldmVyeXRoaW5nIHdpbGwgYmUgaGFuZGxlZCBpbnNpZGUgdGhlIHBsYXRmb3JtIC0gbm90IHRocm91Z2ggZGlyZWN0IGVtYWlscyBsaWtlIGJlZm9yZS48L3A+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxwPlNpZ24gdXAgYmVsb3cgdG8gZ2V0IHN0YXJ0ZWQg8J+RhzwvcD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjtcIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiR7cmVnaXN0cmF0aW9uVXJsfVwiIGNsYXNzPVwiYnV0dG9uXCI+Q3JlYXRlIFlvdXIgQWNjb3VudDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8cD5PciBjb3B5IGFuZCBwYXN0ZSB0aGlzIGxpbmsgaW50byB5b3VyIGJyb3dzZXI6PC9wPlxuICAgICAgICAgICAgPHAgc3R5bGU9XCJ3b3JkLWJyZWFrOiBicmVhay1hbGw7IGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7IHBhZGRpbmc6IDEwcHg7IGJvcmRlci1yYWRpdXM6IDNweDsgZm9udC1zaXplOiAxM3B4O1wiPlxuICAgICAgICAgICAgICAke3JlZ2lzdHJhdGlvblVybH1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPHA+SXQgb25seSB0YWtlcyBhIG1pbnV0ZSAtIHlvdSdsbCBiZSBhbGwgc2V0IHRvIHJlY2VpdmUgY2FtcGFpZ24gaW52aXRlcyBhZnRlciB5b3UncmUgb25ib2FyZGVkIHRvIHRoZSBwbGF0Zm9ybS48L3A+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxwPkxvb2tpbmcgZm9yd2FyZCB0byB3b3JraW5nIHdpdGggeW91IHRocm91Z2ggdGhlIHBsYXRmb3JtLiBJZiB5b3UgaGF2ZSBhbnkgcXVlc3Rpb25zLCBkb24ndCBoZXNpdGF0ZSB0byByZWFjaCBvdXQgb3IgY2FsbCBtZS48L3A+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxwPkJlc3QsPGJyPkFsZWVtPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cbiAgICAgICAgICAgIDxwPiZjb3B5OyAyMDI1IEFsbGVtLiBBbGwgcmlnaHRzIHJlc2VydmVkLjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2JvZHk+XG4gICAgICA8L2h0bWw+XG4gICAgYCxcbiAgICB0ZXh0OiBgXG4gICAgICBKb2luIE91ciBOZXcgSW5mbHVlbmNlciBQbGF0Zm9ybVxuICAgICAgXG4gICAgICBIaSxcbiAgICAgIFxuICAgICAgSSdtIGV4Y2l0ZWQgdG8gc2hhcmUgc29tZXRoaW5nIHdlJ3ZlIGJlZW4gd29ya2luZyBvbiAtIGEgYnJhbmQtbmV3IHBsYXRmb3JtIGJ1aWx0IHNwZWNpZmljYWxseSB0byBtYWtlIG91ciBpbmZsdWVuY2VyIGNhbXBhaWducyBzbW9vdGhlciwgZmFzdGVyLCBhbmQgbW9yZSBvcmdhbml6ZWQgZm9yIGJvdGggb2YgdXMuXG4gICAgICBcbiAgICAgIE5vIG1vcmUgbWVzc3kgZW1haWwgY2hhaW5zIG9yIGxvc3QgbWVzc2FnZXMuXG4gICAgICBcbiAgICAgIFdpdGggdGhpcyBwbGF0Zm9ybSwgeW91IGNhbjpcbiAgICAgIOKAoiBHZXQgY2FtcGFpZ24gb2ZmZXJzIGRpcmVjdGx5IGZyb20gbWUgYW5kIG15IHRlYW1cbiAgICAgIOKAoiBBY2NlcHQsIGRlY2xpbmUsIG9yIHJlcXVlc3QgY2hhbmdlcyB0byBvZmZlcnNcbiAgICAgIOKAoiBHZXQgYWNjZXNzIHRvIG1vcmUgYWR2ZXJ0aXNpbmcgb3Bwb3J0dW5pdGllcyB0aHJvdWdoIG91ciBuZXcgYmlkZGluZyBwcm9jZXNzIChtb3JlIGRlYWxzIGZvciB5b3Ugb24gYSBtb250aGx5IGJhc2lzKVxuICAgICAg4oCiIFN1Ym1pdCBxdW90ZXMgYW5kIHJlcXVlc3QgcGF5bWVudFxuICAgICAg4oCiIFVwbG9hZCBkcmFmdHMgb3Igc2NyaXB0cyBmb3IgcmV2aWV3XG4gICAgICDigKIgR2V0IGFwcHJvdmFscywgZmVlZGJhY2ssIGFuZCBmaW5hbCBnby1haGVhZHMg4oCTIGFsbCBpbiBvbmUgcGxhY2VcbiAgICAgIFxuICAgICAgSXQncyBzaW1wbGUgYW5kIHN0cmVhbWxpbmVkIC0gZGVzaWduZWQgdG8gc2F2ZSB1cyBib3RoIHRpbWUuXG4gICAgICBcbiAgICAgIEZyb20gbm93IG9uLCBhbGwgY2FtcGFpZ24gb3Bwb3J0dW5pdGllcyBhbmQgY29tbXVuaWNhdGlvbiB3aWxsIGdvIHRocm91Z2ggdGhpcyBwbGF0Zm9ybS4gWW91J2xsIHN0aWxsIGdldCBlbWFpbCBub3RpZmljYXRpb25zIHdoZW4gdGhlcmUncyBhIG5ldyBvZmZlciwgYnV0IGV2ZXJ5dGhpbmcgd2lsbCBiZSBoYW5kbGVkIGluc2lkZSB0aGUgcGxhdGZvcm0gLSBub3QgdGhyb3VnaCBkaXJlY3QgZW1haWxzIGxpa2UgYmVmb3JlLlxuICAgICAgXG4gICAgICBTaWduIHVwIGJlbG93IHRvIGdldCBzdGFydGVkOlxuICAgICAgJHtyZWdpc3RyYXRpb25Vcmx9XG4gICAgICBcbiAgICAgIEl0IG9ubHkgdGFrZXMgYSBtaW51dGUgLSB5b3UnbGwgYmUgYWxsIHNldCB0byByZWNlaXZlIGNhbXBhaWduIGludml0ZXMgYWZ0ZXIgeW91J3JlIG9uYm9hcmRlZCB0byB0aGUgcGxhdGZvcm0uXG4gICAgICBcbiAgICAgIExvb2tpbmcgZm9yd2FyZCB0byB3b3JraW5nIHdpdGggeW91IHRocm91Z2ggdGhlIHBsYXRmb3JtLiBJZiB5b3UgaGF2ZSBhbnkgcXVlc3Rpb25zLCBkb24ndCBoZXNpdGF0ZSB0byByZWFjaCBvdXQgb3IgY2FsbCBtZS5cbiAgICAgIFxuICAgICAgQmVzdCxcbiAgICAgIEFsZWVtXG4gICAgICBcbiAgICAgIMKpIDIwMjUgQWxsZW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gICAgYFxuICB9O1xufTtcblxuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0ludml0YXRpb24oZW1haWw6IHN0cmluZywgdGFnSWQ6IHN0cmluZywgdGFnTmFtZTogc3RyaW5nLCBjbGllbnRVcmw6IHN0cmluZyk6IFByb21pc2U8SW52aXRlUmVzdWx0PiB7XG4gIHRyeSB7XG4gICAgLy8gR2VuZXJhdGUgdG9rZW4gZm9yIGludml0YXRpb25cbiAgICBjb25zdCB0b2tlbiA9IGNyeXB0by5yYW5kb21CeXRlcyg0KS50b1N0cmluZygnaGV4Jyk7IC8vIDggY2hhcmFjdGVyc1xuICAgIFxuICAgIC8vIENoZWNrIGlmIGludml0YXRpb24gYWxyZWFkeSBleGlzdHNcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nSW52aXRhdGlvbiB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ2ludml0YXRpb25zJylcbiAgICAgIC5zZWxlY3QoJ2lkLCBzdGF0dXMnKVxuICAgICAgLmVxKCdlbWFpbCcsIGVtYWlsKVxuICAgICAgLmVxKCdzdGF0dXMnLCAncGVuZGluZycpXG4gICAgICAubWF5YmVTaW5nbGUoKTtcbiAgICAgIFxuICAgIGxldCBpbnZpdGF0aW9uSWQ7XG4gICAgXG4gICAgaWYgKGV4aXN0aW5nSW52aXRhdGlvbikge1xuICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIGludml0YXRpb25cbiAgICAgIGNvbnN0IHsgZGF0YTogdXBkYXRlZEludml0ZSwgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAgIC5mcm9tKCdpbnZpdGF0aW9ucycpXG4gICAgICAgIC51cGRhdGUoe1xuICAgICAgICAgIHRva2VuLFxuICAgICAgICAgIGV4cGlyZXNfYXQ6IG5ldyBEYXRlKERhdGUubm93KCkgKyAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9KVxuICAgICAgICAuZXEoJ2lkJywgZXhpc3RpbmdJbnZpdGF0aW9uLmlkKVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpO1xuICAgICAgICBcbiAgICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBgRmFpbGVkIHRvIHVwZGF0ZSBpbnZpdGF0aW9uOiAke3VwZGF0ZUVycm9yLm1lc3NhZ2V9YFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBpbnZpdGF0aW9uSWQgPSBleGlzdGluZ0ludml0YXRpb24uaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENyZWF0ZSBuZXcgaW52aXRhdGlvblxuICAgICAgY29uc3QgaW52aXRhdGlvbkRhdGEgPSB7XG4gICAgICAgIGVtYWlsLFxuICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgdG9rZW4sXG4gICAgICAgIGV4cGlyZXNfYXQ6IG5ldyBEYXRlKERhdGUubm93KCkgKyAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3QgeyBkYXRhOiBuZXdJbnZpdGUsIGVycm9yOiBpbnZpdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgICAuZnJvbSgnaW52aXRhdGlvbnMnKVxuICAgICAgICAuaW5zZXJ0KGludml0YXRpb25EYXRhKVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpO1xuICAgICAgICBcbiAgICAgIGlmIChpbnZpdGVFcnJvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBgRmFpbGVkIHRvIGNyZWF0ZSBpbnZpdGF0aW9uOiAke2ludml0ZUVycm9yLm1lc3NhZ2V9YFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBpbnZpdGF0aW9uSWQgPSBuZXdJbnZpdGUuaWQ7XG4gICAgfVxuICAgIFxuICAgIC8vIEdlbmVyYXRlIHJlZ2lzdHJhdGlvbiBVUkxcbiAgICBjb25zdCByZWdpc3RyYXRpb25VcmwgPSBgJHtjbGllbnRVcmx9L3NpZ251cD9lbWFpbD0ke2VuY29kZVVSSUNvbXBvbmVudChlbWFpbCl9JnRva2VuPSR7dG9rZW59JnRhZz0ke3RhZ0lkfWA7XG4gICAgXG4gICAgLy8gU2VuZCBlbWFpbCB1c2luZyBTZW5kR3JpZFxuICAgIGxldCBlbWFpbFNlbnQgPSBmYWxzZTtcbiAgICBsZXQgZW1haWxFcnJvciA9IG51bGw7XG4gICAgXG4gICAgY29uc29sZS5sb2coYEF0dGVtcHRpbmcgdG8gc2VuZCBlbWFpbCB0byAke2VtYWlsfWApO1xuICAgIGNvbnNvbGUubG9nKGBTRU5ER1JJRF9BUElfS0VZIGV4aXN0czogJHshIVNFTkRHUklEX0FQSV9LRVl9YCk7XG4gICAgY29uc29sZS5sb2coYFNFTkRHUklEX0ZST01fRU1BSUw6ICR7U0VOREdSSURfRlJPTV9FTUFJTH1gKTtcbiAgICBcbiAgICBpZiAoU0VOREdSSURfQVBJX0tFWSAmJiBTRU5ER1JJRF9GUk9NX0VNQUlMKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBlbWFpbERhdGEgPSBjcmVhdGVFbWFpbFRlbXBsYXRlKGVtYWlsLCByZWdpc3RyYXRpb25VcmwsIHRhZ05hbWUpO1xuICAgICAgICBjb25zb2xlLmxvZyhgU2VuZGluZyBlbWFpbCB3aXRoIGRhdGE6YCwge1xuICAgICAgICAgIHRvOiBlbWFpbERhdGEudG8sXG4gICAgICAgICAgZnJvbTogZW1haWxEYXRhLmZyb20sXG4gICAgICAgICAgc3ViamVjdDogZW1haWxEYXRhLnN1YmplY3RcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZ01haWwuc2VuZChlbWFpbERhdGEpO1xuICAgICAgICBjb25zb2xlLmxvZyhgRW1haWwgc2VudCBzdWNjZXNzZnVsbHkgdG8gJHtlbWFpbH06YCwgcmVzdWx0WzBdLnN0YXR1c0NvZGUpO1xuICAgICAgICBlbWFpbFNlbnQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gc2VuZCBlbWFpbCB0byAke2VtYWlsfTpgLCBlcnJvcik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFNlbmRHcmlkIGVycm9yIGRldGFpbHM6YCwgZXJyb3IucmVzcG9uc2U/LmJvZHkgfHwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIGVtYWlsRXJyb3IgPSBlcnJvci5tZXNzYWdlIHx8ICdVbmtub3duIGVtYWlsIGVycm9yJztcbiAgICAgICAgLy8gRG9uJ3QgZmFpbCB0aGUgZW50aXJlIHByb2Nlc3MgaWYgZW1haWwgZmFpbHNcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coYEVtYWlsIG5vdCBzZW50IC0gbWlzc2luZyBjb25maWd1cmF0aW9uLiBBUEkgS2V5OiAkeyEhU0VOREdSSURfQVBJX0tFWX0sIEZyb20gRW1haWw6ICR7ISFTRU5ER1JJRF9GUk9NX0VNQUlMfWApO1xuICAgICAgZW1haWxFcnJvciA9ICdTZW5kR3JpZCBub3QgY29uZmlndXJlZCc7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBlbWFpbCxcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICByZWdpc3RyYXRpb25fdXJsOiByZWdpc3RyYXRpb25VcmwsXG4gICAgICBlbWFpbF9zZW50OiBlbWFpbFNlbnQsXG4gICAgICBlbWFpbF9lcnJvcjogZW1haWxFcnJvcixcbiAgICAgIHRva2VuXG4gICAgfTtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIHJldHVybiB7XG4gICAgICBlbWFpbCxcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3Igb2NjdXJyZWQnXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKSBhcyBSZXF1ZXN0RGF0YTtcbiAgICBjb25zdCB7IGVtYWlscywgdGFnSWQgfSA9IGJvZHk7XG5cbiAgICAvLyBWYWxpZGF0aW9uXG4gICAgaWYgKCFlbWFpbHMgfHwgIUFycmF5LmlzQXJyYXkoZW1haWxzKSB8fCBlbWFpbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdFbWFpbHMgYXJyYXkgaXMgcmVxdWlyZWQgYW5kIG11c3Qgbm90IGJlIGVtcHR5JyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCF0YWdJZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnVGFnIElEIGlzIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZW52aXJvbm1lbnQgdmFyaWFibGVzXG4gICAgaWYgKCFTVVBBQkFTRV9VUkwgfHwgIVNVUEFCQVNFX1NFUlZJQ0VfS0VZKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdTZXJ2ZXIgY29uZmlndXJhdGlvbiBlcnJvcjogTWlzc2luZyBTdXBhYmFzZSBjcmVkZW50aWFscycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEZldGNoIHRhZyBpbmZvcm1hdGlvblxuICAgIGNvbnN0IHsgZGF0YTogdGFnLCBlcnJvcjogdGFnRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCd0YWdzJylcbiAgICAgIC5zZWxlY3QoJ2lkLCBuYW1lJylcbiAgICAgIC5lcSgnaWQnLCB0YWdJZClcbiAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmICh0YWdFcnJvciB8fCAhdGFnKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdJbnZhbGlkIHRhZyBJRCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGNsaWVudFVybCA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ29yaWdpbicpIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBQcm9jZXNzaW5nIGJ1bGsgaW52aXRhdGlvbnMgZm9yICR7ZW1haWxzLmxlbmd0aH0gZW1haWxzIHdpdGggdGFnOiAke3RhZy5uYW1lfWApO1xuXG4gICAgLy8gUHJvY2VzcyBhbGwgaW52aXRhdGlvbnNcbiAgICBjb25zdCByZXN1bHRzOiBJbnZpdGVSZXN1bHRbXSA9IFtdO1xuICAgIFxuICAgIGZvciAoY29uc3QgZW1haWwgb2YgZW1haWxzKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzSW52aXRhdGlvbihlbWFpbCwgdGFnSWQsIHRhZy5uYW1lLCBjbGllbnRVcmwpO1xuICAgICAgcmVzdWx0cy5wdXNoKHJlc3VsdCk7XG4gICAgICBcbiAgICAgIC8vIFNtYWxsIGRlbGF5IHRvIGF2b2lkIG92ZXJ3aGVsbWluZyB0aGUgZW1haWwgc2VydmljZVxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMCkpO1xuICAgIH1cblxuICAgIGNvbnN0IHN1Y2Nlc3NmdWwgPSByZXN1bHRzLmZpbHRlcihyID0+IHIuc3VjY2VzcykubGVuZ3RoO1xuICAgIGNvbnN0IGZhaWxlZCA9IHJlc3VsdHMuZmlsdGVyKHIgPT4gIXIuc3VjY2VzcykubGVuZ3RoO1xuXG4gICAgY29uc29sZS5sb2coYEJ1bGsgaW52aXRhdGlvbiBjb21wbGV0ZWQ6ICR7c3VjY2Vzc2Z1bH0gc3VjY2Vzc2Z1bCwgJHtmYWlsZWR9IGZhaWxlZGApO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBcbiAgICAgICAgc3VjY2VzczogdHJ1ZSwgXG4gICAgICAgIG1lc3NhZ2U6IGBQcm9jZXNzZWQgJHtlbWFpbHMubGVuZ3RofSBpbnZpdGF0aW9uczogJHtzdWNjZXNzZnVsfSBzdWNjZXNzZnVsLCAke2ZhaWxlZH0gZmFpbGVkYCxcbiAgICAgICAgcmVzdWx0cyxcbiAgICAgICAgc3VtbWFyeToge1xuICAgICAgICAgIHRvdGFsOiBlbWFpbHMubGVuZ3RoLFxuICAgICAgICAgIHN1Y2Nlc3NmdWwsXG4gICAgICAgICAgZmFpbGVkXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogMjAwIH1cbiAgICApO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignVW5leHBlY3RlZCBlcnJvciBpbiBidWxrLWludml0ZSBBUEk6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNyZWF0ZUNsaWVudCIsImNyeXB0byIsInNnTWFpbCIsIlNVUEFCQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJTVVBBQkFTRV9TRVJWSUNFX0tFWSIsIlNFTkRHUklEX0FQSV9LRVkiLCJTRU5ER1JJRF9GUk9NX0VNQUlMIiwic2V0QXBpS2V5Iiwic3VwYWJhc2VBZG1pbiIsImF1dGgiLCJhdXRvUmVmcmVzaFRva2VuIiwicGVyc2lzdFNlc3Npb24iLCJjcmVhdGVFbWFpbFRlbXBsYXRlIiwiZW1haWwiLCJyZWdpc3RyYXRpb25VcmwiLCJ0YWdOYW1lIiwidG8iLCJmcm9tIiwic3ViamVjdCIsImh0bWwiLCJ0ZXh0IiwicHJvY2Vzc0ludml0YXRpb24iLCJ0YWdJZCIsImNsaWVudFVybCIsInRva2VuIiwicmFuZG9tQnl0ZXMiLCJ0b1N0cmluZyIsImRhdGEiLCJleGlzdGluZ0ludml0YXRpb24iLCJzZWxlY3QiLCJlcSIsIm1heWJlU2luZ2xlIiwiaW52aXRhdGlvbklkIiwidXBkYXRlZEludml0ZSIsImVycm9yIiwidXBkYXRlRXJyb3IiLCJ1cGRhdGUiLCJleHBpcmVzX2F0IiwiRGF0ZSIsIm5vdyIsInRvSVNPU3RyaW5nIiwidXBkYXRlZF9hdCIsImlkIiwic2luZ2xlIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJpbnZpdGF0aW9uRGF0YSIsInN0YXR1cyIsImNyZWF0ZWRfYXQiLCJuZXdJbnZpdGUiLCJpbnZpdGVFcnJvciIsImluc2VydCIsImVuY29kZVVSSUNvbXBvbmVudCIsImVtYWlsU2VudCIsImVtYWlsRXJyb3IiLCJjb25zb2xlIiwibG9nIiwiZW1haWxEYXRhIiwicmVzdWx0Iiwic2VuZCIsInN0YXR1c0NvZGUiLCJyZXNwb25zZSIsImJvZHkiLCJyZWdpc3RyYXRpb25fdXJsIiwiZW1haWxfc2VudCIsImVtYWlsX2Vycm9yIiwiUE9TVCIsInJlcXVlc3QiLCJqc29uIiwiZW1haWxzIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwidGFnIiwidGFnRXJyb3IiLCJoZWFkZXJzIiwiZ2V0IiwibmFtZSIsInJlc3VsdHMiLCJwdXNoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0Iiwic3VjY2Vzc2Z1bCIsImZpbHRlciIsInIiLCJmYWlsZWQiLCJzdW1tYXJ5IiwidG90YWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/bulk-invite/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/@sendgrid","vendor-chunks/asynckit","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/call-bind-apply-helpers","vendor-chunks/debug","vendor-chunks/get-proto","vendor-chunks/mime-db","vendor-chunks/has-symbols","vendor-chunks/gopd","vendor-chunks/function-bind","vendor-chunks/form-data","vendor-chunks/follow-redirects","vendor-chunks/axios","vendor-chunks/supports-color","vendor-chunks/proxy-from-env","vendor-chunks/ms","vendor-chunks/mime-types","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/has-flag","vendor-chunks/get-intrinsic","vendor-chunks/es-set-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/es-define-property","vendor-chunks/dunder-proto","vendor-chunks/delayed-stream","vendor-chunks/deepmerge","vendor-chunks/combined-stream"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fbulk-invite%2Froute&page=%2Fapi%2Fadmin%2Fbulk-invite%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fbulk-invite%2Froute.ts&appDir=%2FUsers%2Fstefanjandric%2FDesktop%2FInfluenser%20Portal%20Final%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fstefanjandric%2FDesktop%2FInfluenser%20Portal%20Final&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();